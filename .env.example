# Shared token claims/secret contract between Auth service and Gateway.
# Auth service values (JWT_*) and Gateway values (AUTH_*) must match exactly.

# ====================
# Auth service runtime
# ====================
# Token issuer claim (iss)
JWT_ISSUER=https://auth.aandiclub.com
# Token audience claim (aud)
JWT_AUDIENCE=aandiclub-api
# HS256 signing secret (at least 32 bytes; use a strong random value)
JWT_SECRET=replace-with-strong-random-secret-min-32-bytes
# Allowed CORS origins for browser clients
APP_CORS_ALLOWED_ORIGINS=https://aandiclub.com,https://admin.aandiclub.com,https://auth.aandiclub.com,https://api.aandiclub.com
# Optional allowlist for profile image URL hosts (comma-separated)
APP_PROFILE_ALLOWED_IMAGE_HOSTS=your-bucket.s3.ap-northeast-2.amazonaws.com,d123example.cloudfront.net
# S3 profile image upload settings
APP_PROFILE_IMAGE_ENABLED=true
APP_PROFILE_IMAGE_BUCKET=your-bucket
APP_PROFILE_IMAGE_REGION=ap-northeast-2
APP_PROFILE_IMAGE_KEY_PREFIX=profiles
# Optional: set CloudFront base URL (if empty, S3 URL is used)
APP_PROFILE_IMAGE_PUBLIC_BASE_URL=
APP_PROFILE_IMAGE_UPLOAD_URL_EXPIRATION_SECONDS=600
APP_PROFILE_IMAGE_MAX_UPLOAD_BYTES=5242880
APP_PROFILE_IMAGE_ALLOWED_CONTENT_TYPES=image/jpeg,image/png,image/webp
# SNS topic publish for user profile update events (SQS should subscribe to this topic)
APP_USER_PROFILE_EVENT_ENABLED=false
APP_USER_PROFILE_EVENT_TOPIC_ARN=
APP_USER_PROFILE_EVENT_REGION=ap-northeast-2
APP_USER_PROFILE_EVENT_FIFO_MESSAGE_GROUP_ID=user-profile-updated

# ====================
# Gateway runtime
# ====================
# Must be exactly the same as JWT_SECRET above
AUTH_JWT_SECRET=replace-with-strong-random-secret-min-32-bytes
# Must be exactly the same as JWT_ISSUER above
AUTH_ISSUER_URI=https://auth.aandiclub.com
# Must be exactly the same as JWT_AUDIENCE above
AUTH_AUDIENCE=aandiclub-api

# Allowed external host headers for gateway
ALLOWED_HOSTS=api.aandiclub.com,api-stg.aandiclub.com
# true in production behind TLS termination + forwarded proto header
ENFORCE_HTTPS=true
